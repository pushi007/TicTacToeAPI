<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
	<changeSet author="pallavi" id="20160929-01">
		<modifyDataType columnName="fullname" newDataType="VARCHAR(150)"
			tableName="youth_enrollment" schemaName="moyadev" />
		<modifyDataType columnName="fathermothername"
			newDataType="VARCHAR(150)" tableName="youth_enrollment" schemaName="moyadev" />
		<modifyDataType columnName="address" newDataType="VARCHAR(500)"
			tableName="youth_enrollment" schemaName="moyadev" />
		<modifyDataType columnName="landmark" newDataType="VARCHAR(150)"
			tableName="youth_enrollment" schemaName="moyadev" />
	</changeSet>

	<changeSet author="Pallavi" id="20160929-02">
		<createView replaceIfExists="true" schemaName="moyadev"
			viewName="youth_enrollment_view">  SELECT youth.id,
           youth.aadhar_number,
           youth.fullname,
           youth.fathermothername,
           youth.sex,
           youth.dob,
           youth.address,
           youth.bloodgroup,
           youth.pincode,
           youth.fk_type,
           youth.fk_id,
           youth.landmark,   
           youth.state,
           youth.district,
           youth.email,
           youth.mobile,
           youth.city_village,
           youth.status, 
           youth.block,   
           gs.geographic_name as state_name,
           gd.geographic_name as district_name        
      FROM moyadev.youth_enrollment youth left join  moyadev.geographic_data gs on youth.state = gs.ID left join moyadev.geographic_data gd on youth.district=gd.ID
      </createView>
	</changeSet>
</databaseChangeLog>

